# [LeetCode] 134. Gas Station(Medium)

- **Link:** [LeetCode Problem Link](https://leetcode.com/problems/gas-station/description/?envType=study-plan-v2&envId=top-interview-150)
- **Tags:** `Array`, `Greedy`
- **Difficulty:** Medium

## 題目解釋
想像你在環島旅行，島上有n個加油站，它們的路徑圍成一條圓圈，每一個加油站的汽油量為 `gas[i]` ，每一個加油站之間的行駛需要消耗的汽油量為 `cost[i]`，現在你要駕駛一輛沒有油的車，挑選一個起點使得你能完成這項旅程。
- 如果有答案就回傳這個index
- 如果沒有答案就回傳 `-1`
- (如果有答案的話 此答案一定唯一)

## 解法思路

### 思考過程:
因為路徑是環狀的，並且可以挑選最佳位置當作起點，所以當 `總汽油量` > `總消耗量` 時，必定有解。
關於這一點，一開始思考過程中我擔心會不會有資源分配不均導致無法到達下一個點的情況(比如某一段路程消耗大並且補充少)，因為 `總汽油量` > `總消耗量` 的關係，這時必定會有另一段路程會補充大量汽油，只要把起點設在補充汽油的那一段就不會有跑不完的問題。

「只要整體的資源足夠（總油量 > 總消耗），中間的過程雖然有虧有盈（分配不均），但我們只要利用環狀特性，選擇從『盈餘區段』開始累積資源，就一定能帶著足夠的油去撐過那些『虧損區段』。」


### 解法：Greedy
> [!IMPORTANT]
> **思路：**
> 開車沿著路走的同時，一邊計算 `總汽油量` 是否大於 `總消耗量`，
> 一邊看目前油箱的汽油量；一旦油箱見底，則這一站就不可能當起點，就立刻把『下一站』當作新的起點重新開始，直到走完全程。
> 最後只要 `總汽油量` > `總消耗量`，那個最新的起點就是答案。

### 複雜度分析

| 項目 | 複雜度 | 解釋 |
| :--- | :--- | :--- |
| **時間** | **$O(N)$** | **線性時間**。只對陣列進行一次遍歷。 |
| **空間** | **$O(1)$** | **常數空間**。只使用了常數個變數，不隨資料量變大而增加記憶體消耗。 |

```cpp
class Solution {
public:
    int canCompleteCircuit(vector<int>& gas, vector<int>& cost) {
        int n = gas.size();
        int start_index = 0;
        int total_tank = 0;
        int current_tank = 0;
        for(int i=0;i < n;i++){
            total_tank += gas[i] - cost[i];
            current_tank += gas[i] - cost[i];
            if(current_tank < 0){
                current_tank = 0;
                start_index = i + 1;
            }

        }
        if(total_tank < 0){
            return -1;
        }
        return start_index;
    }
};
```
